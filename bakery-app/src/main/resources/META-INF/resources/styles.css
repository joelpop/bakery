/* Bakery Application Styles */

/* =============================================================================
   Main Layout - Responsive Navigation
   ============================================================================= */

.main-layout {
    --vaadin-app-layout-navbar-background: var(--lumo-base-color);
}

/* Main navbar container */
.main-navbar {
    gap: var(--lumo-space-m);
}

/* Navigation tabs */
.main-nav-tabs {
    --lumo-primary-text-color: var(--lumo-primary-color);
}

/* Desktop styles */
@media (min-width: 751px) {
    /* Navbar at top */
    .main-layout::part(navbar) {
        border-bottom: 1px solid var(--lumo-contrast-10pct);
    }

    /* Smaller nav icons on desktop */
    .nav-icon {
        width: 18px;
        height: 18px;
    }

    /* Show button text on desktop */
    .new-order-button .button-text,
    .view-action-button .button-text {
        display: inline;
        margin-left: var(--lumo-space-xs);
    }

    /* Hide header new-order button on storefront (view has its own) */
    .main-layout.on-storefront .new-order-button {
        display: none;
    }
}

/* Tablet/narrow desktop: nav group drops to second row */
@media (max-width: 1024px) and (min-width: 481px) {
    .main-navbar {
        flex-wrap: wrap !important;
        row-gap: 0;
        padding-top: var(--lumo-space-s) !important;
        padding-bottom: var(--lumo-space-s) !important;
    }

    /* Keep branding and user menu on first row */
    .app-branding {
        order: 0;
    }

    .user-menu {
        order: 1;
    }

    /* Nav group drops to second row, full width, centered */
    .nav-group {
        order: 2;
        flex-basis: 100%;
        justify-content: center;
    }
}

/* Text-only nav: hide icons when second row gets pinched (551-750px) */
@media (max-width: 750px) and (min-width: 551px) {
    .nav-icon {
        position: absolute !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
}

/* Icons-only nav: hide text, show icons when more pinched (481-550px) */
@media (max-width: 550px) and (min-width: 481px) {
    .nav-label {
        display: none !important;
    }
}

/* Hide button text on narrower screens */
@media (max-width: 650px) {
    .new-order-button .button-text,
    .view-action-button .button-text {
        display: none !important;
    }
}

/* Phone styles (bottom navigation on touch devices) */
@media (max-width: 480px) and (pointer: coarse) {
    /* Disable wrapping on phone - single row bottom nav */
    .main-navbar {
        flex-wrap: nowrap !important;
    }

    /* Larger touch-friendly icons */
    .nav-icon {
        width: 24px;
        height: 24px;
    }

    /* Touch-friendly tab targets */
    .main-nav-tabs vaadin-tab a {
        min-height: 48px;
    }

    /* Hide button text */
    .new-order-button .button-text,
    .view-action-button .button-text {
        display: none !important;
    }

    /* Compact action buttons */
    .new-order-button,
    .view-action-button {
        min-width: 44px;
        padding: 0 var(--lumo-space-s);
    }

    /* Compact user menu */
    .user-menu vaadin-avatar {
        width: 32px;
        height: 32px;
    }

    /* Move navbar to bottom */
    .main-layout::part(navbar) {
        top: auto !important;
        bottom: 0 !important;
        border-top: 1px solid var(--lumo-contrast-10pct);
        border-bottom: none;
    }

    /* Adjust padding for bottom navbar */
    .main-layout {
        padding-top: 0 !important;
        padding-bottom: 65px !important;
    }

    /* Hide branding on phone */
    .app-branding {
        display: none !important;
    }

    /* Hide nav text labels on phone */
    .nav-label {
        display: none !important;
    }

    /* Expand nav group to fill space, reset min-width */
    .nav-group {
        flex: 1;
        justify-content: center;
        min-width: 0;
    }

    /* Equal-width centered tabs */
    .main-nav-tabs {
        flex: 1;
    }

    .main-nav-tabs vaadin-tab {
        flex: 1;
        justify-content: center;
    }

    .main-nav-tabs vaadin-tab a {
        justify-content: center;
    }
}

/* =============================================================================
   View Header (consistent header across all views)
   ============================================================================= */

.view-header {
    background: var(--lumo-base-color);
    border-bottom: 1px solid var(--lumo-contrast-10pct);
    flex-shrink: 0;
    min-height: 56px;
}

/* Mobile adjustments for view header */
@media (max-width: 767px) {
    .view-header {
        flex-wrap: wrap;
        gap: var(--lumo-space-s);
        padding-top: var(--lumo-space-s);
        padding-bottom: var(--lumo-space-s);
        min-height: auto;
    }
}

/* Phone adjustments for view header */
@media (max-width: 480px) and (pointer: coarse) {
    /* Hide view header title on phone */
    .view-header h2 {
        display: none !important;
    }

    /* Adjust layout for filters/actions only */
    .view-header {
        justify-content: flex-end;
    }

    /* Hide view header completely on phone when title-only (no filters/actions) */
    .view-header.title-only {
        display: none;
    }
}

/* =============================================================================
   Custom Badge Variants
   ============================================================================= */

/* Warning badge (amber/orange) for roles like Barista */
[theme~="badge"][theme~="warning"] {
    color: hsl(35, 100%, 30%);
    background-color: hsl(40, 100%, 90%);
}

/* =============================================================================
   Filter Bar
   ============================================================================= */

.filter-bar {
    padding: var(--lumo-space-s) var(--lumo-space-m);
    background: var(--lumo-base-color);
    border-bottom: 1px solid var(--lumo-contrast-10pct);
}

/* =============================================================================
   Order Cards
   ============================================================================= */

.order-card {
    background: var(--lumo-base-color);
    border-radius: var(--lumo-border-radius-l);
    box-shadow: var(--lumo-box-shadow-xs);
    padding: var(--lumo-space-m);
    cursor: pointer;
    transition: box-shadow 0.2s, transform 0.2s;
}

.order-card:hover {
    box-shadow: var(--lumo-box-shadow-s);
    transform: translateY(-2px);
}

/* =============================================================================
   Storefront View
   ============================================================================= */

.storefront-view {
    background: var(--lumo-contrast-5pct);
}

/* =============================================================================
   About View
   ============================================================================= */

.about-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--lumo-space-l);
    max-width: 1200px;
}

/* Mobile: stack cards vertically */
@media (max-width: 767px) {
    .about-cards-grid {
        grid-template-columns: 1fr;
    }
}
